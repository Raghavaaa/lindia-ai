(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{1840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(5155),r=s(2115),n=s(2619),a=s.n(n),c=s(6830);function d(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[d,l]=(0,r.useState)(null),[o,x]=(0,r.useState)(1),[h,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{u()},[o]);let u=async()=>{try{let e=await (0,c.nr)("".concat(c.$W.endpoints.research.history,"?page=").concat(o,"&limit=20")),s=await e.json();1===o?t(s.research||[]):t(e=>[...e,...s.research||[]]),m(s.hasMore||!1)}catch(e){console.error("Error fetching research:",e)}finally{n(!1)}},z=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length>t?e.substring(0,t)+"...":e};return s&&1===o?(0,i.jsx)("div",{className:"mx-auto max-w-7xl px-6 py-6",children:(0,i.jsx)("div",{className:"text-center",children:"Loading research history..."})}):(0,i.jsxs)("div",{className:"mx-auto max-w-7xl px-6 py-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,i.jsx)("div",{className:"flex items-center space-x-4",children:(0,i.jsx)(a(),{href:"/",className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"LegalIndia.ai"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)(a(),{href:"/research",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"Research"}),(0,i.jsx)(a(),{href:"/login",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"Login"}),(0,i.jsx)(a(),{href:"/settings",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"Settings"})]})]}),(0,i.jsxs)("div",{className:"mx-auto max-w-6xl",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-zinc-800 dark:text-zinc-100",children:"Research History"}),(0,i.jsx)("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400",children:"View and manage your saved legal research queries"})]}),0===e.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:(0,i.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,i.jsx)("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-2",children:"No research history"}),(0,i.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:"Start by conducting some legal research to see your history here."}),(0,i.jsx)(a(),{href:"/research",className:"inline-flex items-center px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200",children:"Start Research"})]}):(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:["Saved Research (",e.length,")"]}),(0,i.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(e=>(0,i.jsxs)("div",{onClick:()=>l(e),className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat((null==d?void 0:d.id)===e.id?"border-zinc-900 dark:border-zinc-100 bg-zinc-50 dark:bg-zinc-800":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600"),children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,i.jsx)("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100 text-sm",children:p(e.query_text,60)}),(0,i.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 ml-2",children:z(e.created_at)})]}),(0,i.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:p(e.response_text,80)}),e.client_id&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:["Client: ",e.client_id]})})]},e.id))}),h&&(0,i.jsx)("button",{onClick:()=>{x(e=>e+1)},disabled:s,className:"w-full mt-4 px-4 py-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded-lg hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-50",children:s?"Loading...":"Load More"})]}),(0,i.jsx)("div",{className:"lg:sticky lg:top-6",children:d?(0,i.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-700 p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Research Details"}),(0,i.jsx)("button",{onClick:()=>l(null),className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 mb-2",children:"Query:"}),(0,i.jsx)("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 bg-zinc-50 dark:bg-zinc-800 p-3 rounded",children:d.query_text})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100 mb-2",children:"Response:"}),(0,i.jsx)("div",{className:"text-sm text-zinc-700 dark:text-zinc-300 bg-zinc-50 dark:bg-zinc-800 p-3 rounded max-h-64 overflow-y-auto",children:(0,i.jsx)("pre",{className:"whitespace-pre-wrap",children:d.response_text})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center text-xs text-zinc-500 dark:text-zinc-400",children:[(0,i.jsxs)("span",{children:["Created: ",z(d.created_at)]}),d.client_id&&(0,i.jsxs)("span",{children:["Client: ",d.client_id]})]})]})]}):(0,i.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-700 p-6 text-center",children:[(0,i.jsx)("div",{className:"text-zinc-400 dark:text-zinc-500 mb-4",children:(0,i.jsxs)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,i.jsx)("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-2",children:"Select a research item"}),(0,i.jsx)("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Click on any research item from the list to view its details here."})]})})]})]})]})}},6830:(e,t,s)=>{"use strict";s.d(t,{$W:()=>r,nr:()=>n});var i=s(5704);let r={apiBase:i.env.NEXT_PUBLIC_FRONTEND_API_BASE||"http://localhost:3001",environment:i.env.NEXT_PUBLIC_FRONTEND_ENV||"development",endpoints:{health:"/api/v1/health",auth:{google:"/api/v1/auth/google",me:"/api/v1/me"},clients:"/api/v1/clients",research:{run:"/api/v1/research/run",save:"/api/v1/research/save",history:"/api/v1/research/history"},admin:{prompt:"/api/v1/admin/prompt"}}},n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(r.apiBase).concat(e),{...{headers:{"Content-Type":"application/json",...t.headers},credentials:"include"},...t})}},7475:(e,t,s)=>{Promise.resolve().then(s.bind(s,1840))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=7475)),_N_E=e.O()}]);