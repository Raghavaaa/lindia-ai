(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{5350:(e,t,r)=>{Promise.resolve().then(r.bind(r,7065))},6830:(e,t,r)=>{"use strict";r.d(t,{$W:()=>s,nr:()=>n});var a=r(5704);let s={apiBase:a.env.NEXT_PUBLIC_FRONTEND_API_BASE||"http://localhost:3001",environment:a.env.NEXT_PUBLIC_FRONTEND_ENV||"development",endpoints:{health:"/api/v1/health",auth:{google:"/api/v1/auth/google",me:"/api/v1/me"},clients:"/api/v1/clients",research:{run:"/api/v1/research/run",save:"/api/v1/research/save",history:"/api/v1/research/history"},admin:{prompt:"/api/v1/admin/prompt"}}},n=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(s.apiBase).concat(e),{...{headers:{"Content-Type":"application/json",...t.headers},credentials:"include"},...t})}},7065:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),s=r(2115),n=r(2619),i=r.n(n),c=r(6830);function l(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[o,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[u,p]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),f=(0,s.useRef)(null),g=(0,s.useRef)(null);(0,s.useEffect)(()=>{v&&f.current&&(f.current.scrollTop=f.current.scrollHeight)},[r,v]),(0,s.useEffect)(()=>{let e=()=>{if(f.current&&g.current){let{scrollTop:e}=f.current;g.current.style.display=e>100?"block":"none"}},t=f.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[r]);let N=async t=>{t.preventDefault(),d(!0),n(""),x(!1),b(!0);try{var r;let t=await (0,c.nr)(c.$W.endpoints.research.run,{method:"POST",body:JSON.stringify({query:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=null==(r=t.body)?void 0:r.getReader();if(!a)throw Error("No response body");let s=new TextDecoder,i="";for(;;){let{done:e,value:t}=await a.read();if(e)break;for(let e of s.decode(t).split("\n"))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));if(t.content&&(i+=t.content,n(i)),t.done){b(!1);break}}catch(e){}}}catch(e){n("Error: ".concat(e)),b(!1)}finally{d(!1)}},y=async()=>{if(!r||!u.trim())return void alert("Please enter a client name to save the research");h(!0);try{(await (0,c.nr)(c.$W.endpoints.research.save,{method:"POST",body:JSON.stringify({query:e,result:r,clientName:u.trim()})})).ok?(x(!0),p("")):alert("Failed to save research")}catch(e){alert("Error saving research")}finally{h(!1)}};return(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-6 py-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(i(),{href:"/",className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"LegalIndia.ai"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/history",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"History"}),(0,a.jsx)(i(),{href:"/login",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"Login"}),(0,a.jsx)(i(),{href:"/settings",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",children:"Settings"})]})]}),(0,a.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-6xl",children:"Legal Research"}),(0,a.jsx)("p",{className:"mt-6 text-lg leading-8 text-zinc-600 dark:text-zinc-400",children:"AI-powered legal research and analysis for Indian law. Get instant insights, case law references, and practical legal guidance."})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow p-6 mb-6",children:(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Enter your legal query:"}),(0,a.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full p-3 border border-zinc-300 dark:border-zinc-600 rounded-lg bg-white dark:bg-zinc-800",rows:4,placeholder:"Example: My property was encroached by seller — what legal remedy do I have?",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 py-3 rounded-lg font-medium disabled:opacity-50",children:l?v?"Streaming...":"Researching...":"Run Research"})]})}),r&&(0,a.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow p-6 relative",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Research Result:"}),(0,a.jsx)("button",{ref:g,onClick:()=>{f.current&&f.current.scrollTo({top:0,behavior:"smooth"})},className:"px-3 py-1 text-xs bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 rounded hover:bg-zinc-200 dark:hover:bg-zinc-700",style:{display:"none"},children:"Scroll to Top"})]}),(0,a.jsx)("div",{ref:f,className:"prose max-w-none mb-6 max-h-96 overflow-y-auto",children:(0,a.jsxs)("pre",{className:"whitespace-pre-wrap text-sm bg-zinc-50 dark:bg-zinc-800 p-4 rounded-lg",children:[r,v&&(0,a.jsx)("span",{className:"animate-pulse",children:"|"})]})}),(0,a.jsxs)("div",{className:"border-t border-zinc-200 dark:border-zinc-700 pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Save Research:"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Enter client name",className:"flex-1 p-2 border border-zinc-300 dark:border-zinc-600 rounded bg-white dark:bg-zinc-800 text-sm"}),(0,a.jsx)("button",{onClick:y,disabled:o||m||v,className:"px-4 py-2 bg-green-600 text-white rounded text-sm font-medium disabled:opacity-50 hover:bg-green-700",children:o?"Saving...":m?"Saved ✓":"Save Research"})]}),m&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("p",{className:"text-sm text-green-600 mb-2",children:["Research saved successfully under client: ",u]}),(0,a.jsx)(i(),{href:"/history",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View in History →"})]})]})]})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5350)),_N_E=e.O()}]);